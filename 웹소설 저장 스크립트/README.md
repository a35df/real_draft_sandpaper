# 웹소설 다운로더 (고급 우회 기능 포함)

이 프로그램은 URL 목록 파일을 읽어서 각 웹페이지의 텍스트를 추출하여 저장하는 도구입니다.
**봇 차단이나 JavaScript 차단을 우회하는 고급 기능**을 포함합니다.

## 주요 기능

### 🔒 **고급 우회 기능**
- **브라우저 시뮬레이션**: 실제 브라우저처럼 동작
- **User-Agent 랜덤화**: 다양한 브라우저로 위장
- **리퍼러 헤더 자동 설정**: 자연스러운 탐색 패턴
- **쿠키 유지**: 세션 상태 보존
- **봇 차단 감지 및 우회**: 차단 패턴 자동 감지
- **Selenium 대안**: JavaScript 필수 사이트 지원
- **세션 초기화**: 차단 시 자동 복구

### 🛡️ **네트워크 안정성**
- 강력한 재시도 메커니즘 (최대 10회)
- 다양한 오류 타입별 맞춤 처리
- 지수적 백오프 (재시도 간격 점진 증가)
- SSL 인증서 오류 무시

## 사용법

### 1. 실행 방법
- `웹소설_다운로더_실행.command` 파일을 더블클릭하여 실행
- 처음 실행 시 필요한 패키지가 자동으로 설치됩니다

### 2. URL 목록 파일 준비
URL 목록 파일은 다음 형식으로 작성해야 합니다:
```
제목1|https://example.com/novel1
제목2|https://example.com/novel2
제목3|https://example.com/novel3
```

- 각 줄마다 `제목|URL` 형식으로 작성
- 제목과 URL 사이는 파이프(`|`) 문자로 구분
- 빈 줄은 무시됩니다

### 3. 프로그램 사용 순서
1. 프로그램 실행
2. "파일 선택" 버튼을 클릭하여 URL 목록 파일 선택
3. "폴더 선택" 버튼을 클릭하여 저장할 폴더 선택
4. **브라우저 시뮬레이션 설정** 조정 (필요시):
   - 리퍼러 헤더 사용 ✓ (권장)
   - 쿠키 유지 ✓ (권장)
   - User-Agent 랜덤화 ✓ (권장)
   - JS 차단 우회 시도 ✓ (권장)
5. **네트워크 설정** 조정 (필요시):
   - 요청 간격: 2-5초 (사이트 정책에 따라)
   - 타임아웃: 30-60초
   - 재시도 횟수: 3-5회
6. "다운로드 시작" 버튼 클릭
7. 진행 상황을 로그에서 확인

### 4. 저장되는 파일
- 파일명: `제목-001.txt`, `제목-002.txt` 형식
- 각 파일에는 제목, URL, 그리고 추출된 텍스트가 저장됩니다

## 주요 기능

- **사용자 친화적 GUI**: 직관적인 그래픽 인터페이스
- **진행률 표시**: 실시간 다운로드 진행 상황 확인
- **로그 기능**: 상세한 처리 과정 및 오류 메시지 표시
- **오류 처리**: 네트워크 오류나 파일 오류 시 안전한 처리
- **안전한 파일명**: 파일 시스템에 안전한 파일명 자동 생성

## 시스템 요구사항

- macOS (다른 OS에서도 Python이 설치되어 있으면 실행 가능)
- Python 3.6 이상
- 인터넷 연결

## 봇 차단 우회 가이드

### 🚫 웹사이트에서 차단당하는 경우:

1. **브라우저 시뮬레이션 설정 모두 활성화**
2. **요청 간격을 3-5초로 증가**
3. **재시도 횟수를 5-7회로 증가**
4. **JS 차단 우회 시도 활성화** (Selenium 사용)

### ⚠️ 그래도 차단되는 경우:

1. 프록시나 VPN 사용 고려
2. 다른 시간대에 시도
3. 더 긴 요청 간격 설정 (10초 이상)
4. 수동으로 몇 개 페이지 방문 후 시도

## 문제 해결

### Python이 설치되어 있지 않은 경우
- https://www.python.org/downloads/ 에서 Python을 다운로드하여 설치

### Selenium (Chrome) 설치가 필요한 경우
macOS에서 Chrome과 ChromeDriver 설치:
```bash
# Homebrew 설치 (없는 경우)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Chrome과 ChromeDriver 설치
brew install --cask google-chrome
brew install chromedriver
```

### 패키지 설치 오류가 발생하는 경우
터미널에서 다음 명령어를 실행:
```bash
pip3 install requests beautifulsoup4 urllib3 selenium
```

### 웹페이지에서 텍스트가 추출되지 않는 경우
- 일부 웹사이트는 JavaScript로 콘텐츠를 로드하므로 텍스트 추출이 어려울 수 있습니다
- 이런 경우 해당 사이트의 HTML 구조에 맞게 코드 수정이 필요합니다

## 주의사항

- 웹사이트의 이용약관을 준수하여 사용하세요
- 과도한 요청으로 서버에 부하를 주지 않도록 요청 간격을 두고 있습니다
- 저작권이 있는 콘텐츠의 경우 개인적인 용도로만 사용하세요
